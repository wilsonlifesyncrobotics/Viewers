# ğŸ¨ Model Upload Panel Layout Schematic

## OHIF Viewer Layout Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          OHIF VIEWER APPLICATION                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                         TOP TOOLBAR                                  â”‚  â”‚
â”‚  â”‚  [Study Browser] [Tools] [Layout] [More] ... [Settings] [User]      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚          â”‚                                            â”‚              â”‚  â”‚
â”‚  â”‚   LEFT   â”‚           VIEWPORT GRID AREA               â”‚    RIGHT     â”‚  â”‚
â”‚  â”‚  PANELS  â”‚                                            â”‚   PANELS     â”‚  â”‚
â”‚  â”‚          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚              â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â” â”‚  â”‚              â”‚              â”‚          â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚ â”‚Study â”‚ â”‚  â”‚  Viewport 1  â”‚  Viewport 2  â”‚          â”‚ â”‚Measure-  â”‚ â”‚  â”‚
â”‚  â”‚ â”‚List  â”‚ â”‚  â”‚    (CT)      â”‚   (Axial)    â”‚          â”‚ â”‚ments     â”‚ â”‚  â”‚
â”‚  â”‚ â”‚      â”‚ â”‚  â”‚              â”‚              â”‚          â”‚ â”‚          â”‚ â”‚  â”‚
â”‚  â”‚ â”‚[img] â”‚ â”‚  â”‚              â”‚              â”‚          â”‚ â”‚ Length:  â”‚ â”‚  â”‚
â”‚  â”‚ â”‚[img] â”‚ â”‚  â”‚              â”‚              â”‚          â”‚ â”‚ 12.3mm   â”‚ â”‚  â”‚
â”‚  â”‚ â”‚[img] â”‚ â”‚  â”‚              â”‚              â”‚          â”‚ â”‚          â”‚ â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”‚ â”‚ Area:    â”‚ â”‚  â”‚
â”‚  â”‚          â”‚  â”‚              â”‚              â”‚          â”‚ â”‚ 45.2mmÂ²  â”‚ â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â” â”‚  â”‚  Viewport 3  â”‚  Viewport 4  â”‚          â”‚ â”‚          â”‚ â”‚  â”‚
â”‚  â”‚ â”‚Seriesâ”‚ â”‚  â”‚  (Sagittal)  â”‚   (3D)       â”‚          â”‚ â”‚          â”‚ â”‚  â”‚
â”‚  â”‚ â”‚      â”‚ â”‚  â”‚              â”‚              â”‚          â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚ â”‚Thumb â”‚ â”‚  â”‚              â”‚              â”‚          â”‚              â”‚  â”‚
â”‚  â”‚ â”‚nails â”‚ â”‚  â”‚              â”‚              â”‚          â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚ â”‚[img] â”‚ â”‚  â”‚              â”‚              â”‚          â”‚ â”‚3D Model  â”‚ â”‚  â”‚
â”‚  â”‚ â”‚[img] â”‚ â”‚  â”‚              â”‚              â”‚          â”‚ â”‚Upload    â”‚ â”‚  â”‚
â”‚  â”‚ â”‚[img] â”‚ â”‚  â”‚              â”‚              â”‚          â”‚ â”‚  â¬†ï¸       â”‚ â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”˜ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚ â”‚[Drop]    â”‚ â”‚  â”‚
â”‚  â”‚          â”‚                                            â”‚ â”‚[Files]   â”‚ â”‚  â”‚
â”‚  â”‚          â”‚                                            â”‚ â”‚Here      â”‚ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Panel Registration Flow

```
Extension (cornerstone)
    â”‚
    â”œâ”€â”€ getPanelModule()
    â”‚       â”‚
    â”‚       â”œâ”€â”€ Returns Panel Configurations:
    â”‚       â”‚
    â”‚       â”œâ”€â”€ 1. "measurements" (existing)
    â”‚       â”‚   â”œâ”€â”€ iconName: "list-bullets"
    â”‚       â”‚   â”œâ”€â”€ iconLabel: "Measurements"
    â”‚       â”‚   â””â”€â”€ component: PanelMeasurement
    â”‚       â”‚
    â”‚       â”œâ”€â”€ 2. "model-upload" (NEW!)
    â”‚       â”‚   â”œâ”€â”€ iconName: "launch-arrow"
    â”‚       â”‚   â”œâ”€â”€ iconLabel: "3D Models"
    â”‚       â”‚   â””â”€â”€ component: PanelModelUpload
    â”‚       â”‚
    â”‚       â””â”€â”€ 3. Other panels...
    â”‚
    â””â”€â”€ Mode Configuration
            â”‚
            â””â”€â”€ Specifies which panels to show:
                â”œâ”€â”€ Right panel: ["measurements", "model-upload"]
                â””â”€â”€ Left panel: ["studies", "thumbnails"]
```

## Detailed Right Panel Layout (Where Model Upload Lives)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     RIGHT SIDE PANEL AREA       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ ğŸ“Š  â”‚ ğŸ¨   â”‚  âš™ï¸  â”‚  â† Tab Bar (Icons)
â”‚  â”‚Meas â”‚Model â”‚Tools â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  MODEL UPLOAD PANEL       â”‚ â”‚ â† PANEL CONTENT AREA
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚                           â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚                     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚   ğŸ“¦ Upload 3D      â”‚ â”‚ â”‚
â”‚  â”‚  â”‚      Models         â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  Drag & Drop or     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  Click to Select    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  [Select Files]     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  [Select Folder]    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  .OBJ .STL .PLY     â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                           â”‚ â”‚
â”‚  â”‚  Viewport: viewport-1     â”‚ â”‚
â”‚  â”‚                           â”‚ â”‚
â”‚  â”‚  Loaded Models: 0         â”‚ â”‚
â”‚  â”‚                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Component Hierarchy

```
App
 â””â”€â”€ Viewer
      â””â”€â”€ ViewportGrid
           â”œâ”€â”€ Viewport 1
           â”œâ”€â”€ Viewport 2
           â”œâ”€â”€ Viewport 3
           â””â”€â”€ Viewport 4

      â””â”€â”€ PanelGroup (Right Side)
           â”œâ”€â”€ Panel Tab Bar
           â”‚    â”œâ”€â”€ Tab: "Measurements" ğŸ“Š
           â”‚    â”œâ”€â”€ Tab: "3D Models" ğŸ¨  â† NEW!
           â”‚    â””â”€â”€ Tab: "Settings" âš™ï¸
           â”‚
           â””â”€â”€ Panel Content Area
                â”œâ”€â”€ PanelMeasurement (when selected)
                â”œâ”€â”€ PanelModelUpload (when selected) â† YOUR COMPONENT
                â””â”€â”€ PanelSettings (when selected)
```

## Registration Code Location

```
File: extensions/cornerstone/src/getPanelModule.tsx

getPanelModule() {
  return [
    {
      name: 'measurements',           // Existing panel
      iconName: 'list-bullets',
      iconLabel: 'Measurements',
      component: PanelMeasurement,
    },
    {
      name: 'model-upload',           // â† ADD THIS
      iconName: 'launch-arrow',
      iconLabel: '3D Models',
      label: '3D Model Upload',
      component: PanelModelUpload,    // Your component
    },
  ];
}
```

## Mode Configuration

```
File: modes/longitudinal/src/index.tsx

panels: {
  right: [
    'measurements',    // Existing
    'model-upload',    // â† ADD THIS to mode config
  ],
  left: [
    'seriesList',
  ],
}
```

## Visual Flow: User Clicks Panel Tab

```
User Action                    System Response
    â”‚                               â”‚
    â”œâ”€â”€ Click "3D Models" tab       â”‚
    â”‚   in right panel             â”‚
    â”‚                               â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ PanelService activates
    â”‚                               â”‚ "model-upload" panel
    â”‚                               â”‚
    â”‚                               â”œâ”€â–¶ Unmount previous panel
    â”‚                               â”‚
    â”‚                               â”œâ”€â–¶ Mount PanelModelUpload
    â”‚                               â”‚
    â”‚                               â”œâ”€â–¶ PanelModelUpload renders
    â”‚                               â”‚   â””â”€â–¶ ModelUpload component
    â”‚                               â”‚       â””â”€â–¶ Dropzone UI
    â”‚                               â”‚
    â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ Panel now visible
    â”‚                               â”‚
    â”œâ”€â”€ User sees upload UI         â”‚
    â”‚   with drag & drop area       â”‚
    â”‚                               â”‚
```

## Real-World Example: Panel Position

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ OHIF Viewer - CT Study                                 [X]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Study] [View] [Tools] [Window] [Help]                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          â”‚                                    â”‚  â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”  â”‚
â”‚ Studies  â”‚         CT Axial View              â”‚  â”‚ğŸ“Š â”‚ğŸ¨ â”‚âš™ï¸ â”‚  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”â”‚                                    â”‚  â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜  â”‚
â”‚ â”‚Study1â”‚â”‚         [MEDICAL IMAGE]            â”‚                 â”‚
â”‚ â”‚[img] â”‚â”‚                                    â”‚ 3D Model Upload â”‚
â”‚ â”‚Study2â”‚â”‚                                    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚[img] â”‚â”‚                                    â”‚ â”‚             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”˜â”‚                                    â”‚ â”‚    ğŸ“¦       â”‚ â”‚
â”‚         â”‚                                    â”‚ â”‚             â”‚ â”‚
â”‚ Series  â”‚                                    â”‚ â”‚ Upload 3D   â”‚ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”â”‚                                    â”‚ â”‚   Models    â”‚ â”‚
â”‚ â”‚Ser 1 â”‚â”‚                                    â”‚ â”‚             â”‚ â”‚
â”‚ â”‚[img] â”‚â”‚                                    â”‚ â”‚ Drag & Drop â”‚ â”‚
â”‚ â”‚Ser 2 â”‚â”‚                                    â”‚ â”‚     or      â”‚ â”‚
â”‚ â”‚[img] â”‚â”‚                                    â”‚ â”‚  [Select]   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”˜â”‚                                    â”‚ â”‚  [Folder]   â”‚ â”‚
â”‚         â”‚                                    â”‚ â”‚             â”‚ â”‚
â”‚         â”‚                                    â”‚ â”‚  .OBJ .STL  â”‚ â”‚
â”‚         â”‚                                    â”‚ â”‚    .PLY     â”‚ â”‚
â”‚         â”‚                                    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          LEFT                                         RIGHT
         PANEL                                        PANEL
                                                    (YOUR PANEL
                                                     IS HERE!)
```

## Integration Points

```
1. Panel Registration
   â””â”€ extensions/cornerstone/src/getPanelModule.tsx
      â””â”€ Export PanelModelUpload

2. Panel Component
   â””â”€ extensions/cornerstone/src/panels/PanelModelUpload.tsx
      â””â”€ Uses ModelUpload component

3. Mode Configuration
   â””â”€ modes/longitudinal/src/index.tsx
      â””â”€ Add 'model-upload' to right panels array

4. User Interface
   â””â”€ Right side panel area
      â””â”€ Tab bar with icon
         â””â”€ Panel content when selected
```

## Summary

**The Model Upload Panel sits in:**
- âœ… **RIGHT SIDE** of the OHIF viewer
- âœ… **PANEL GROUP** (tabbed interface)
- âœ… **NEXT TO** Measurements panel
- âœ… **ACCESSIBLE VIA** tab icon (launch-arrow ğŸš€)
- âœ… **SHOWS** ModelUpload component when selected
- âœ… **ALONGSIDE** viewports (doesn't cover them)

The panel is **collapsible**, **switchable**, and exists in the same panel container as other right-side panels like Measurements, Studies, etc.

---

**Created:** November 4, 2025
**Component:** PanelModelUpload
**Location:** Right side panel group
**Status:** âœ… Ready for registration
